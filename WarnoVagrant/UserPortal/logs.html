<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>UserPortal.logs &mdash; WARNO 0.1 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '0.1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <link rel="top" title="WARNO 0.1 documentation" href="../../index.html" />
    <link rel="up" title="User Portal" href="index.html" />
    <link rel="next" title="UserPortal.sites" href="sites.html" />
    <link rel="prev" title="UserPortal.instruments" href="instruments.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="userportal-logs">
<h1><a class="reference internal" href="#module-UserPortal.logs" title="UserPortal.logs"><code class="xref py py-mod docutils literal"><span class="pre">UserPortal.logs</span></code></a><a class="headerlink" href="#userportal-logs" title="Permalink to this headline">¶</a></h1>
<p>Flask blueprint for reading or managing Instrument Logs.</p>
<span class="target" id="module-UserPortal.logs"></span><dl class="function">
<dt id="UserPortal.logs.new_log">
<code class="descclassname">UserPortal.logs.</code><code class="descname">new_log</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#UserPortal.logs.new_log" title="Permalink to this definition">¶</a></dt>
<dd><p>Submit a new log entry to WARNO.</p>
<dl class="docutils">
<dt>Rather than having the normal &#8216;Get&#8217; &#8216;Post&#8217; format, this is designed to be available to</dt>
<dd>more than just web users.  If there are no optional arguments user_id, instrument_id,
time, or status (or if one of those options is missing), the normal form to create a new
log will render. If all of those options exist, the function will attempt a database insertion
with the data.  If the insertion fails, the form to create a new log will render with an error
message.  If the insertion is successful, the user will be redirected instead to the page of
the instrument the log was submitted for.  Also, upon success, if it is not the central facility,
the log&#8217;s information will be sent to the central facility&#8217;s Event Manager.</dd>
</dl>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>error: optional, integer</strong></p>
<blockquote>
<div><p>Passed as an HTML parameter, an error message set if the latitude or longitude are not
floating point numbers</p>
</div></blockquote>
<p><strong>author_id: optional, integer</strong></p>
<blockquote>
<div><p>Passed as an HTML parameter, the database id of the author of the new log</p>
</div></blockquote>
<p><strong>instrument_id: optional, integer</strong></p>
<blockquote>
<div><p>Passed as an HTML parameter, the database id of the instrument the log is for</p>
</div></blockquote>
<p><strong>time: optional, string</strong></p>
<blockquote>
<div><p>Passed as an HTML parameter, a string representing the date and time for the log</p>
</div></blockquote>
<p><strong>status: optional, integer</strong></p>
<blockquote>
<div><p>Passed as an HTML parameter, the status code of the instrument for the log</p>
</div></blockquote>
<p><strong>contents: optional, string</strong></p>
<blockquote>
<div><p>Passed as an HTML parameter, the message contents for the log</p>
</div></blockquote>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">new_log.html: HTML document</p>
<blockquote>
<div><dl class="docutils">
<dt>If the new log insertion was attempted but failed, or if no insertion was attempted,</dt>
<dd><p class="first last">returns an HTML form to create a new site, with an optional argument &#8216;error&#8217; if it
was a failed database insertion.</p>
</dd>
</dl>
</div></blockquote>
<p>instrument: Flask redirect location</p>
<blockquote class="last">
<div><dl class="docutils">
<dt>If a new log insertion was attempted and succeded,  returns a Flask redirect location</dt>
<dd><p class="first last">to the instrument function, redirecting the user to the page showing the
instrument with the instrument_id matching the insertion.</p>
</dd>
</dl>
</div></blockquote>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
  <li><a href="../index.html">Welcome to WARNO&#8217;s documentation!</a><ul>
  <li><a href="index.html">User Portal</a><ul>
      <li>Previous: <a href="instruments.html" title="previous chapter"><code class="docutils literal"><span class="pre">UserPortal.instruments</span></code></a></li>
      <li>Next: <a href="sites.html" title="next chapter"><code class="docutils literal"><span class="pre">UserPortal.sites</span></code></a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/WarnoVagrant/UserPortal/logs.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2016, Joseph Hardin.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../../_sources/WarnoVagrant/UserPortal/logs.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>